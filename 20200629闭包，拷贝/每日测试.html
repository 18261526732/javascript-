<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
    //     var add = (function () {
    //         var counter = 0;
    //         return function () {
    //             return counter += 1;
    //         }
    //     })();

    //    console.log(add)//返回函数表达式
    //    console.log(add());//undefined 
    //    console.log(add());//undefined 


    // for (var i = 0; i < 3; i++) {
    // setTimeout(function () {
    //     console.log(i);// 3 3 3
    // }, 0);//
    // console.log(i);//0 1 2
    // }
    //  定时器是异步执行  慢 虽然在页面中写在了上面 但是是后执行
    // 输出结果是 0 1 2  3 3 3


    // for (let i = 0; i < 5; i++) {
    // setTimeout(function () {
    //     console.log('delayer:' + i)
    // }, 0)
    // }   


//     (function() {
//     var num = 1;
//     var e = {};
//     function add(num) {
//         return num++;
//     }
//     e.getAddNum = function () {
//         return add();
//     }
//     window.a = e
// } )()

// console.log(a.getAddNum());
// console.log(a.getAddNum());


// function f1() {
//     var n = 999;
//     nAdd = function () { n += 1 }
//     function f2() {
//         alert(n);//999
//     }
//     return f2;
// }
// var result = f1();
// result();//
// nAdd();//
// result();//

// function f1(num) {
//     function f2() {
//         alert('数字:' + num);
//     }
//     return f2;
// }
// var fa = f1(10);
// var fb = f1(20);
// var fc = f1(30);
// fa();
// fb();
// fc();

// var a = 9;
// function fn() {
//     a = 0;
//     return function (b) {
//         return b + a++;
//     }
// }
// var f = fn();
// console.log(f(5));//5
// console.log(fn()(5));//函数体 5 
// console.log(f(5));//6
// console.log(a);//3


// function fn(i) {
//     return function (n) {
//         console.log(n + (i++));
//     }
// }
// var f = fn(10);
// f(20);//20
// fn(20)(40);//61
// fn(30)(50);//82
// f(30);//33


function fun(n, o) {
    console.log(o)
    return {
        fun: function (m) {
            return fun(m, n);
        }
    };
}
var a = fun(0);
a.fun(1);
a.fun(2);
a.fun(3);
var b = fun(0)
b.fun(1)
b.fun(2)
b.fun(3);
var c = fun(0)
c.fun(1);
c.fun(2);
c.fun(3);

    </script>
</body>

</html>